$(function () { console.log("Contact"), $("#contactForm input,#contactForm textarea").jqBootstrapValidation({ preventSubmit: !0, submitError: function (e, t, s) { }, submitSuccess: function (e, t) { t.preventDefault(); var s = $("input#name").val(), a = $("input#email").val(), n = $("input#phone").val(), r = $("input#address").val(), i = $("select#selService").val(), c = $("textarea#message").val(), l = s; l.indexOf(" ") >= 0 && (l = s.split(" ").slice(0, -1).join(" ")), $this = $("#sendMessageButton"), $this.prop("disabled", !0), fetch("https://api.emailjs.com/api/v1.0/email/send", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ service_id: "service_562kegs", template_id: "template_grbq0qg", user_id: "user_pwnrSymGTUtZ4MVyEqwmT", template_params: { from_name: s, service: i, message: c, address: r, reply_to: a, phone_number: n } }) }).then(e => e.text()).then(e => { console.log(e), "OK" === e ? ($("#success").html("<div class='alert alert-success'>"), $("#success > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"), $("#success > .alert-success").append("<strong>Your message has been sent. </strong>"), $("#success > .alert-success").append("</div>"), $("#contactForm").trigger("reset")) : ($("#success").html("<div class='alert alert-danger'>"), $("#success > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>"), $("#success > .alert-danger").append($("<strong>").text("Sorry " + s + ", it seems that my mail server is not responding. Please try again later!")), $("#success > .alert-danger").append("</div>"), $("#contactForm").trigger("reset")) }).catch(e => alert("Error... " + e)) }, filter: function () { return $(this).is(":visible") } }), $('a[data-toggle="tab"]').click(function (e) { e.preventDefault(), $(this).tab("show") }) }), $("#name").focus(function () { $("#success").html("") });